<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // var mergeStones = function(stones, K) {
        //     var total = 0;
        //     while(stones.length >= K){
        //         const { sum, index } = getMinSum(stones, K);
        //         stones.splice(index, K , sum);
        //         console.log(sum, index);
                
        //         total += sum;
        //     }

        //     if(stones.length == 1){
        //         return total;
        //     }else{
        //         return -1;
        //     }
            
            

        // };

        // var getMinSum = function(stones, k){
        //     var sum = 30000;
        //     var index = -1;
        //     var len = stones.length;
        //     for(let i =0; i < len; i ++){
        //         if(i <= len - k){
        //             var temp = 0;
        //             var n = i;
        //             var m = k;
        //             while(m > 0){
        //                 temp += stones[n];
        //                 n++;
        //                 m--;
        //             }
        //             if(sum > temp){
        //                 sum = temp;
        //                 index = i;
        //             }
        //         }else{
        //             break;
        //         }
        //     }
        //     return {
        //         sum,
        //         index
        //     }
        // }

        // const stones = [6,4,4,6];
        // const k = 2;

        // console.log(mergeStones(stones, k));

        var commonChars = function(A) {
            var length = A.length;
            var one = A[0];
            var oneIndex = 0;
            var map = {};
            var mapDiff = {};
            if(length == 1){
                return one.split('');
            }

            while(oneIndex < one.length){
                if(!map[one[oneIndex]]) {
                    map[one[oneIndex]] = 1;
                }else{
                    map[one[oneIndex]] = map[one[oneIndex]] + 1;
                }
                oneIndex++;
            }

            console.log(map, 'map');
            

            for( var i = 1 ; i < length ; i ++ ){
                var temp  = A[i];
                var len = temp.length;
                mapDiff = {};
                for( var j = 0; j< len ; j ++ ){
                    console.log(mapDiff, temp[j], 'for in ');
                    
                    if(map[temp[j]] && !mapDiff[temp[j]]){
                        mapDiff[temp[j]] = 1 ;
                    }else if(map[temp[j]] && mapDiff[temp[j]]){
                        var count = mapDiff[temp[j]] + 1;
                        var sum = 0;
                        if(map[temp[j]] > count){
                            sum = count;
                        }else{
                            sum = map[temp[j]];
                        }
                        mapDiff[temp[j]] = sum ;
                    }  
                }
                console.log(mapDiff,'for');
                
                map = mapDiff;
            }
            console.log(mapDiff, 'mapDiff');
            var result  = [];
            Object.keys(mapDiff).forEach(key=>{
                var ml = mapDiff[key];
                while(ml--){
                    result.push(key);
                }
            });
            console.log(result,'result');
            return result;
            
            
        };
    
        
        commonChars(["cool","lock","cook"])
    </script>
</body>
</html>