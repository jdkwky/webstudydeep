<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>proxy</title>
    </head>
    <body>
        <script>
            // const handler = {
            //     get: function(obj, prop) {
            //         return prop in obj ? obj[prop] : 37;
            //     }
            // };

            // const p = new Proxy({}, handler);
            // p.a = 1;
            // p.b = undefined;
            // console.log(p.a, p.b);
            // console.log('c' in p, p.c);

            // // 验证
            const validator = {
                set: function(obj, prop, value) {
                    console.log(' in set catch list', obj);
                    return Reflect.set(obj, prop, value);
                }
            };

            const list = new Proxy(
                {
                    name: 'wky',
                    age: 19,
                    changeName: () => {
                        list.name = 'yc';
                        list.age = 20;
                        console.log(list, 'changeName');
                    }
                },
                validator
            );
        </script>
        <button onclick="list.changeName()">changeName</button>
    </body>
</html>
